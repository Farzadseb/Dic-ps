// ÙØ§ÛŒÙ„ Ù…Ù†Ø·Ù‚ Ø¬Ø¯ÙˆÙ„ Ø±Ù‡Ø¨Ø±Ø§Ù† - leaderboard.js

const LEADERBOARD_DATA = {
    overall: [],
    vocabulary: [],
    grammar: [],
    test: [],
    streak: []
};

// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡ Ø¬Ø¯ÙˆÙ„ Ø±Ù‡Ø¨Ø±Ø§Ù†
function initLeaderboard() {
    loadLeaderboardData();
    renderLeaderboard();
    updateLeaderboardStats();
}

// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÙˆÙ„
function loadLeaderboardData() {
    // Ø¯Ø± Ø­Ø§Ù„Øª ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø² API ÛŒØ§ localStorage Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
    // Ø§ÛŒÙ†Ø¬Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
    
    const samplePlayers = [
        { id: 1, name: 'Ø³Ø§Ø±Ø§ Ø§Ø­Ù…Ø¯ÛŒ', score: 920, words: 85, tests: 12, streak: 15, level: 3 },
        { id: 2, name: 'Ø¹Ù„ÛŒ Ù…Ø­Ù…Ø¯ÛŒ', score: 850, words: 78, tests: 10, streak: 12, level: 3 },
        { id: 3, name: 'Ø±Ø¶Ø§ Ú©Ø±ÛŒÙ…ÛŒ', score: 820, words: 72, tests: 9, streak: 10, level: 2 },
        { id: 4, name: 'ÙØ§Ø·Ù…Ù‡ Ø­Ø³ÛŒÙ†ÛŒ', score: 790, words: 68, tests: 8, streak: 9, level: 2 },
        { id: 5, name: 'Ù…Ø­Ù…Ø¯ Ø±Ø¶Ø§ÛŒÛŒ', score: 750, words: 65, tests: 7, streak: 8, level: 2 },
        { id: 6, name: 'Ø²Ù‡Ø±Ø§ Ø¹Ù„ÛŒØ²Ø§Ø¯Ù‡', score: 720, words: 60, tests: 6, streak: 7, level: 2 },
        { id: 7, name: 'Ø­Ø³ÛŒÙ† Ù‚Ø§Ø³Ù…ÛŒ', score: 680, words: 55, tests: 5, streak: 6, level: 1 },
        { id: 8, name: 'Ù…ÛŒÙ†Ø§ Ù…Ø±Ø§Ø¯ÛŒ', score: 650, words: 50, tests: 4, streak: 5, level: 1 },
        { id: 9, name: 'Ø§Ù…ÛŒØ± Ø¹Ø¨Ø§Ø³ÛŒ', score: 620, words: 45, tests: 3, streak: 4, level: 1 },
        { id: 10, name: 'Ù†Ø§Ø²Ù†ÛŒÙ† Ø¬Ù…Ø´ÛŒØ¯ÛŒ', score: 600, words: 40, tests: 2, streak: 3, level: 1 }
    ];
    
    LEADERBOARD_DATA.overall = [...samplePlayers];
    LEADERBOARD_DATA.vocabulary = [...samplePlayers].sort((a, b) => b.words - a.words);
    LEADERBOARD_DATA.grammar = [...samplePlayers].sort((a, b) => b.tests - a.tests);
    LEADERBOARD_DATA.test = [...samplePlayers].sort((a, b) => b.tests - a.tests);
    LEADERBOARD_DATA.streak = [...samplePlayers].sort((a, b) => b.streak - a.streak);
}

// Ø±Ù†Ø¯Ø± Ø¬Ø¯ÙˆÙ„
function renderLeaderboard() {
    const category = document.getElementById('leaderboardCategory').value;
    const players = LEADERBOARD_DATA[category];
    
    // Ø¢Ù¾Ø¯ÛŒØª 3 Ø±ØªØ¨Ù‡ Ø¨Ø±ØªØ±
    updateTop3(players.slice(0, 3));
    
    // Ø¢Ù¾Ø¯ÛŒØª Ø¬Ø¯ÙˆÙ„ Ø§ØµÙ„ÛŒ
    let tableHTML = '';
    for (let i = 3; i < Math.min(players.length, 20); i++) {
        const player = players[i];
        tableHTML += `
            <tr>
                <td>${i + 1}</td>
                <td>
                    <div class="player-row">
                        <div class="player-avatar-small">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="player-name">${player.name}</div>
                    </div>
                </td>
                <td><span class="score-badge">${player.score}</span></td>
                <td>${player.words}</td>
                <td>${player.tests}</td>
                <td><span class="streak-badge">${player.streak} ðŸ”¥</span></td>
                <td><span class="level-badge level-${player.level}">Ø³Ø·Ø­ ${player.level}</span></td>
            </tr>
        `;
    }
    
    document.getElementById('leaderboardBody').innerHTML = tableHTML;
}

// Ø¨Ù‚ÛŒÙ‡ ØªÙˆØ§Ø¨Ø¹ Ø¬Ø¯ÙˆÙ„ Ø±Ù‡Ø¨Ø±Ø§Ù†...
